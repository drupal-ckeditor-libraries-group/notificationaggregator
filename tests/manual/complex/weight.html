<div>
	<textarea cols="80" id="editor1" name="editor1" rows="10">
		&lt;p&gt;&lt;strong&gt;Apollo 11&lt;/strong&gt; was the spaceflight that landed the first humans, Americans Neil Armstrong and Buzz Aldrin, on the Moon on July 20, 1969, at 20:18 UTC. Armstrong became the first to step onto the lunar surface 6 hours later on July 21 at 02:56 UTC.&lt;/p&gt;&lt;p&gt;Armstrong spent about three and a half two and a half hours outside the spacecraft, Aldrin slightly less; and together they collected&lt;/p&gt;
	</textarea>
	<script>
		var editor = CKEDITOR.replace( 'editor1', {
				extraPlugins: 'notificationaggregator',
				toolbar: [ [ 'Undo', 'Redo' ], [ 'Bold', 'Italic', 'Underline' ] ]
			} ),
			aggregator,
			tasks;

		function createAggregator() {
			// Init notification aggregator.
			aggregator = new CKEDITOR.plugins.notificationaggregator.Complex( editor, 'Loading {current} of {max}... {percentage}%' );

			// Create 3 tasks.
			tasks = [
				aggregator.createTask( 10 ),
				aggregator.createTask( 30 ),
				aggregator.createTask( 60 )
			];
		}

		function closeTask( taskIndex ) {
			if ( !tasks ) {
				// If tasks are not inited it means createAggregator was not called.
				createAggregator();
			}

			tasks[ taskIndex ].done();
		}
	</script>
	<p>
		<input onclick="createAggregator();" type="button" value="Init aggregator">
		<br>
		<input onclick="closeTask( 0 );" type="button" value="Finish task 1 (10% of total weight)">
		<input onclick="closeTask( 1 );" type="button" value="Finish task 2 (30% of total weight)">
		<input onclick="closeTask( 2 );" type="button" value="Finish task 3 (60% of total weight)">
	</p>
</div>